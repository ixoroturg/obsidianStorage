---
tags:
  - combinatorics
---

Пусть у нас 50 человек, среди которых кто-то может знать английский, французский или немецкий (могут быть полиглоты). Также пусть нам известно их количество: $N(а), N(ф), N(н), N(а,ф), N(а,н), N(ф,н), N(а,ф,н)$. Сколько людей не знают ни один язык?

$$
50 - N(а) - N(ф) - N(н) + N(а,ф) + N(а,н) + N(ф,н) - N(а,ф,н)
$$

Пусть даны $N$ объектов $a_1,...,a_N$ и их свойства $a_1,...,a_n$. Пусть даны количества объектов с одним свойством: $N(a_1),...,N(a_n)$. Всего их $n$. \
$N_(a_1,a_2),...,N(a_{n-1},...,a_n)$ - количество объектов с 2 свойствами, всего $C^2_n$. \
$N(a_1,...a_{n-1})$ - количество объектов, обладающие $n-1$ свойствами, всего $C^{n-1}_n$. \
$N(a_1,...,a_n)$ - количество объектов, обладающих всеми свойствами, всего 1.
$N_(a'_1,...,a'_n)$ - количество объектов, не обладающих этими свойствами.

### Теорема включений и исключений

$$
N(a'_1,...,a'_n) = N - \sum_i N(a_i) + \sum_{i,j} N(a_i,a_j) - \sum_{i,j,k} N(a_i,a_j,a_k) + ...
$$

Доказательство идёт в [[../Теория множеств/Включение-исключение|теории множеств]].

Рассмотрим $A = \{a_1,...,a_n\}$ и все [[Сочетания, размещения и перестановки|m-размещения с повторениями]] из $A$, при $m < n$. Всего их $N = n^m$. Будем применять формулу включений-исключений на эти $N$ размещений. Размещение обладает свойством $a_i$, если элемент $a_i$ не принадлежит ему. Тогда:

$$
\begin{gather*}
N(a'_1,a'_2,a'_n) = 0 \\
N(a_i) = (n-1)^m \\
N(a_i,a_j)^m = (n-2)^m \\
N(a_1,...,a_n)^m = (n-n)^m = 0
\end{gather*}
$$
Тогда:
$$
\begin{gather*}
0 = N(a'_1,a'_2,...,a'_n) = \\
C^0_n n^m - C^1_{n-1} (n-1)^m +
C^2_{n-2} (n-2)^m - ... \\
+ (-1)^{n-1} n (n- (n-1))^m + (-1)^n (n-n)^m
\end{gather*}
$$

Иначе:
$$
0 = \sum_{k=0}^{n} (-1)^k C^k_n (n-k)^m
$$