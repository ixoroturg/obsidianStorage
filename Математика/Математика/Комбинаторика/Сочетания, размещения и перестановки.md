---
tags:
  - combinatorics
---
Нам нужно определить, какими понятиями пользуется [[Комбинаторика|комбинаторика]]. Это размещения и сочетания. Отличие в том, что при размещении важен порядок элементов, а при сочетании нет.\
Пусть $A = \{a_1,...a_n\}$ - множество объектов и $k\ |\ k \leq n,\ k$ может быть 0. Как извлечь из $A$ ровно $k$ предметов?

1. Извлекать все объекты последовательно без возвращения $k$ раз.
2. Извлекать объекты и возвращать обратно $k$ раз.
3. Извлекать без возвращения сразу $k$ объектов, неупорядоченно.
4. Извлекать неупорядоченно $k$ объектов, которые могут повторяться. 

Этим перечислениям соответствуют:

1. k - размещений без повторений
2. k - размещений с повторениями
3. k - сочетания без повторений
4. k - сочетания с повторениями

Введём операцию факториала $n!$:
$$
\begin{gather*}
0! = 1 \\
1! = 1 \\
n! = n \cdot (n-1)! \\
n! = \prod^{n-1}_{i=0} n - i \\
n! = \prod^{n}_{i=1} i
\end{gather*}
$$

1. Число k-размещений без повторений обозначается $A^k_n$
2. Число k-размещений с повторениями обозначается $\overline{A^k_n}$
1. Число k-сочетаний без повторения обозначается $C^k_n$
1. Число k-сочетаний с повторениями обозначается $\overline{C^k_n}$

## Теоремы

1. 
$$
\overline{A^k_n} = n^k
$$
Выбирая объект из $n$, мы имеем $n$ способов его выбрать. А т.к. мы кладём его обратно, то мы получаем $k$ выборов из $n$ и $n^k$.
1. 
    $$
    A^k_n = \frac{n!}{(n-k)!}
    $$
    Выбирая из $n$, мы имеем $n$ вариантов. далее идёт $(n-1)$ вариантов, далее $(n-2)$ вариантов. И так до k, когда у нас будет $(n - k + 1)$ вариантов. По правилу умножения получаем:
    $$
    n(n-1)(n-2)...(n-k+1)
    $$
    
    Это по сути последовательность $\prod^{n-1}_{i=0}n - i$, то есть $n!$, но без части $(n-k)!$, поэтому:
    $$
    A^K_n = \frac{n!}{(n-k)!}
    $$
    
    $n$ - размещение из $n$ элементов без повторений называется перестановкой:
    $$
    A^n_n = n!
    $$
1. 
    $$
    C^k_n = \frac{A^k_n}{k!} = \frac{n!}{(n-k)!k!}
    $$
    Возьмём сочетания: $\{a_1,...,a_k\},\{a_2,...,a_{k+1}\},...,\{a_{n-k+1},...,a_n\}$
    По определению это $C^k_n$, а теперь мы можем переставить их всеми возможными способами как $k!$. По определению это число размещений $A^k_n$, но в то же время это $C^k_n \cdot k!$.
1. 
$$
\overline{C^k_n} = C^k_{n+k-1}
$$
Доказательство. Мы можем закодировать каждое сочетание в виде:
$$
{0,0,1,1,0,1,0,...,0,1,0}
$$
Здесь количество подряд идущих единиц показывает количество конкретного элемента, а 0 обозначают перегородки. То есть в этом примере мы взяли 2 раза первый элемент, 1 раз третий элемент, и 1 раз предпоследний элемент. В таком случае мы однозначно кодируем любое сочетание, а значит количество таких кодировок это то, что нам нужно, и если забрать 1 у элемента и отдать другому, то она просто переместится. То есть общее количество элементов не изменится. Количество единиц равно $k$, а количество перегородок $(n-1)$. И мы просто получаем, что нам нужно расставить $k$ единиц по $k+n-1$ позициям, то есть:
$$
\overline{C^k_n} = C^k_{n+k-1}
$$

### Бином Ньютона

Как перемножить $(a + b)^n$? Распишем:
$$
\begin{gather*}
(a + b)^n = (a + b)(a + b)...(a + b)
\end{gather*}
$$
Как это перемножить? Первым делом мы умножаем $a$ на все остальные $a$, получая $a^n$. Далее по правилам умножения мы умножаем $a$ на все остальные $a$, но один раз на $b$, получая $a^{n-1}b\ n$ раз, т.к. мы можем взять $a$ из $n$ скобок, то таких $a^{n-1}b$ будет $n$ штук. Далее мы умножаем $a$ на все $a$, но уже ещё и на 2 $b$, получая $a^{n-2}b$ столько раз, сколько есть сочетаний взятия 2 $a$ из $n$ скобок. То есть $C^k_n$. Таким образом находим общую формулу:
$$
(a + b)^n = \sum^{n}_{k=0} C^{k}_{n} a^{n-k}b^k
$$
